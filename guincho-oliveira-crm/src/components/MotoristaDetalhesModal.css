.modal-content.large {
    max-width: 950px;
    width: 95%;
    max-height: 90vh;
    display: flex;
    flex-direction: column;
}
.loading-message, .error-message { padding: 50px; text-align: center; font-size: 1.2em; color: #6c757d; }
.error-message { color: #dc3545; }
.modal-header { display: flex; justify-content: space-between; align-items: center; padding-bottom: 20px; border-bottom: 1px solid #e9ecef; margin-bottom: 20px; }
.modal-header h2 { margin: 0; color: #101C5D; font-size: 1.8em; }
.modal-header .close-button { font-size: 1.5em; padding: 5px 10px; line-height: 1; }

/* Ajuste o grid principal de insights para 4 colunas */
.insights-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 20px; margin-bottom: 25px; }
.insight-card { background-color: #f8f9fa; padding: 20px; border-radius: 12px; border: 1px solid #e9ecef; text-align: center; }
.insight-card h4 { margin: 0 0 10px 0; font-size: 0.9em; font-weight: 600; color: #6c757d; display: flex; align-items: center; justify-content: center; gap: 8px; text-transform: uppercase; }
.insight-card span { font-size: 1.8em; font-weight: 700; color: #101C5D; display: block; }
.insight-card span.small-span { font-size: 1.1em; font-weight: 600; }
.insight-card small { font-size: 0.8em; color: #6c757d; margin-top: 4px; display: block; }
.insight-card span.profit { color: #28a745; }
.insight-card span.loss { color: #dc3545; }

.section-title { font-size: 1.4em; color: #101C5D; margin-top: 25px; margin-bottom: 15px; padding-bottom: 10px; border-bottom: 2px solid #ffc107; display: flex; align-items: center; gap: 10px; }
.surprise-grid span { color: #007bff; }

/* NOVO: Classe para forçar o layout 3x2, resolvendo a quebra */
.surprise-grid.three-by-two { 
    /* 3 colunas fixas para telas médias/grandes */
    grid-template-columns: repeat(3, 1fr); 
    gap: 20px; 
}

@media (max-width: 768px) {
    /* 2 colunas em tablets */
    .surprise-grid.three-by-two {
        grid-template-columns: repeat(2, 1fr); 
    }
}
@media (max-width: 576px) {
    /* 1 coluna em celulares */
    .surprise-grid.three-by-two {
        grid-template-columns: 1fr; 
    }
}

/* ESTILOS DO CARD DE LISTA DE VEÍCULOS */
.associated-vehicles-card {
    display: flex;
    flex-direction: column;
    text-align: left;
    padding: 15px;
}
.associated-vehicles-card h4 { 
    justify-content: flex-start;
}
.associated-vehicles-card small {
    text-align: center;
    margin-top: auto;
}
.vehicle-list-small {
    list-style: none;
    padding: 0;
    margin: 5px 0 10px 0;
    flex-grow: 1;
    overflow-y: auto;
    max-height: 100px; 
}
.vehicle-list-small li {
    display: flex;
    align-items: center;
    justify-content: space-between;
    font-size: 0.85em;
    font-weight: 600;
    margin-bottom: 5px;
    padding-bottom: 3px;
    border-bottom: 1px dotted #ccc;
    color: #101C5D;
}
.vehicle-list-small li:last-child { border-bottom: none; }
.vehicle-text {
    flex-grow: 1;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}
.vehicle-plate {
    color: #6c757d;
    font-weight: 400;
}
/* Estilos para o badge de status */
.status-badge {
    font-size: 0.7em;
    padding: 2px 5px;
    border-radius: 4px;
    font-weight: 700;
    white-space: nowrap;
    margin-left: 8px;
}
.status-disponível { background-color: #d4edda; color: #155724; }
.status-emserviço { background-color: #fff3cd; color: #856404; }
.status-manutenção { background-color: #f8d7da; color: #721c24; }
.status-n/a { background-color: #f1f3f5; color: #6c757d; }


.modal-body-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 30px; overflow-y: auto; padding: 5px; flex-grow: 1; }
.section h3 { font-size: 1.2em; color: #101C5D; margin-top: 0; margin-bottom: 15px; display: flex; align-items: center; gap: 10px; }
.history-list { list-style: none; padding: 0; margin: 0; overflow-y: auto; max-height: 250px; }
.history-list li { display: flex; justify-content: space-between; align-items: center; padding: 10px; border-bottom: 1px solid #f1f3f5; font-size: 0.9em; }
.history-list li:last-child { border-bottom: none; }
.history-list li small { color: #6c757d; }
@media (max-width: 768px) { .modal-body-grid { grid-template-columns: 1fr; } }

/* ------------------------------------------- */
/* NOVAS REGRAS PARA ALERTA DE BAIXA PERFORMANCE */
/* ------------------------------------------- */

/* 1. Definição da Animação (Piscância) */
@keyframes blink {
    0%, 100% { 
        background-color: #f8d7da; /* Vermelho claro */
        border-color: #dc3545;     /* Vermelho forte */
        box-shadow: 0 0 10px rgba(220, 53, 69, 0.5);
    }
    50% { 
        background-color: #f8f9fa; /* Fundo original */
        border-color: #e9ecef;     /* Borda original */
        box-shadow: none;
    }
}

/* 2. Classe que aplica a animação no card */
.insight-card.low-performance-alert {
    animation: blink 1.5s infinite; /* 1.5s de duração, repetição infinita */
}

/* 3. Garante que o texto principal fique vermelho durante o alerta */
.insight-card.low-performance-alert span {
    color: #dc3545 !important; /* Força o texto para o vermelho de alerta */
}